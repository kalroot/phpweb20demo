Source code from book <Practical Web 2.0 Applications with PHP>.